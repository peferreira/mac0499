\chapter{Experimentos}
\label{cap:analises}

\section{Resumo dos experimentos}


Os experimentos consistiram em medir a acurácia da IFT ao separar objeto e fundo de uma imagem e foram rodados para o banco de imagens públicas do grabcut que contém 50 imagens.
Foram feitas duas classes de rotinas principais:


\begin{itemize}
\item IFT sobre uma imagem bruta, sem pré-processamento em regioes (nível de pixels).
\item IFT sobre regioes geradas pelo método SLIC, com  superpixels com aproximadamente 100, 400, 900 e 1600 pixels.
\end{itemize}



\section{Programas utilizados}
Para rodar os experimentos foram utilizadas implementações do SLIC, da IFT e um programa para
a produção de sementes com erosão. As bibliotecas externas utilizadas foram escritas em C++ e C.
\begin{itemize}

\item ift\_sp.cpp: implementação da \textbf{IFT} com o \textbf{SLIC} como gerador dos superpixels.
\item ift.cpp: implementação da \textbf{IFT} sobre pixels.
\item eroeval.cpp: realiza chamada para \textbf{ift\_sp} e \textbf{ift} para varios raios de erosão da imagem.

\item Também foi utilizada a biblioteca externa \textbf{gft}, onde encontram-se implementações de  leitura , escrita e erosão de imagem.
\end{itemize}
\pagebreak

\section{Resultados obtidos}

Sobre o processo de geração de sementes via erosão,  o raio de erosão é maior para a parte do fundo (dobro do valor usado do raio interno), a fim de evitar a geração de sementes de objeto e fundo equidistantes da borda ideal do gabarito. Nos gráficos o eixo x mostra o valor da erosão do objeto, e a erosão do fundo é sempre o dobro desse valor.

\begin{figure}[!htb]
\begin{center}
\includegraphics[width=12cm]{figuras/resultados.png}
\caption{\label{fig:resultados} resultados}
\end{center}
\end{figure}



\subsection{IFT sobre pixels}
Foi criado uma rotina para rodar o executável do \textbf{eroeval} para todas as imagens do grabcut, inicialmente passando como parâmetro a opção da IFT a nível de pixels. 
Representado na imagem dos resultados pela curva roxa traçejada, a IFT a nível de pixels obteve bons resultados quando as sementes eram mais significativas, raios de erosão menores do que 10 pixels, sendo a curva com maior acurácia entre as curvas geradas, no intervalo de raio 0 até 5. No entanto, ela piora sua acurácia ao longo da diminuição do raio da erosão.

\subsection{IFT sobre superpixels }

E em seguida foi executada a mesma rotina, mas passando a opção da IFT sobre superpixels, e a área aproximada dos superpixels a serem gerados pelo SLIC como parâmetros. Um superpixel de área 100, por exemplo, indica que cada superpixel será composto por uma região de aproximadamente 10x10 pixels.
\subsubsection{superpixels 10x10} A curva obteve um dos melhores comportamentos, e no início, quando todas as outras curvas de superpixels ficaram mais afastadas da curva da IFT sobre pixels, a curva verde se manteve bem próxima a curva da IFT sobre pixels. No final, assim como todas as curvas de superpixels, esta se manteve estável e bem melhor do que a curva tradicional, sobre pixels.
\subsubsection{superpixels 20x20} Um pouco pior no início, quando comparado a IFT sobre a imagem de superpixels 10x10, no entanto, logo o comportamento da curva se mantém bem parecido com a curva anterior.
\subsubsection{superpixels 30x30 e 40x40} Ambas obtiveram desempenho similar, e mostram que quanto maior o tamanho de um superpixel, de acordo com esse experimento, pior foi a acurácia para raios pequenos de erosão ( caso onde as sementes fornecem muita informação do objeto e do fundo).






\section{Análise final dos resultados}

Comparando a IFT através do pré-processamento de uma imagem em superpixels através do SLIC com a IFT sobre pixels,  para separar um objeto do fundo de uma imagem, os resultados mostraram que o método baseado em superpixels fornece uma estabilidade maior conforme ocorre diminuíção do raio da erosão.
\paragraph*{}
Esse resultado é semelhante ao resultado encontrado em \citet{falcao01:ift_sp} onde o autor também utiliza a IFT, mas nesse caso os superpixels são gerados por watershed como apresentado em \citet{lotufo:ift_watershed}. De acordo com os experimentos realizados nesse trabalho, o SLIC também obteve desempenho superior e confirmou-se uma técnica eficiente nesse caso de uso.
\paragraph*{}
Lembrando-se que nesse trabalho não foi feita uma comparação direta com os resultados obtidos em \citet{falcao01:ift_sp}. A ideia principal foi verificar o desempenho do SLIC como gerador de superpixels para a IFT, comparado a IFT em nível de pixels.
 

